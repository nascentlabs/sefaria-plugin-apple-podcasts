var plugin=function(){"use strict";var hn=Object.defineProperty;var ae=v=>{throw TypeError(v)};var vn=(v,f,$)=>f in v?hn(v,f,{enumerable:!0,configurable:!0,writable:!0,value:$}):v[f]=$;var T=(v,f,$)=>vn(v,typeof f!="symbol"?f+"":f,$),fe=(v,f,$)=>f.has(v)||ae("Cannot "+$);var E=(v,f,$)=>(fe(v,f,"read from private field"),$?$.call(v):f.get(v)),Tt=(v,f,$)=>f.has(v)?ae("Cannot add the same private member more than once"):f instanceof WeakSet?f.add(v):f.set(v,$),Ct=(v,f,$,Z)=>(fe(v,f,"write to private field"),Z?Z.call(v,$):f.set(v,$),$);var R,x;const v="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(v);let f=!1;function $(){f=!0}$();const Z=2,ce="[",_e="]",tt={},he=["touchstart","touchmove"];function ve(t){return he.includes(t)}const Nt=!1;var de=Array.isArray,$e=Array.from,et=Object.keys,nt=Object.defineProperty,vt=Object.getOwnPropertyDescriptor;const k=2,Rt=4,dt=8,St=16,A=32,K=64,$t=128,W=256,rt=512,y=1024,F=2048,J=4096,st=8192,M=16384,pe=32768,me=65536,we=1<<19,ge=1<<20,Ee=Symbol("legacy props");function ye(t){return t===this.v}function be(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function xe(t){return!be(t,this.v)}function Te(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ce(){throw new Error("https://svelte.dev/e/hydration_failed")}function Ne(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Re(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function kt(t,e){var n={f:0,v:t,reactions:null,equals:ye,version:0};return n}function Se(t,e=!1){var r;const n=kt(t);return e||(n.equals=xe),f&&m!==null&&m.l!==null&&((r=m.l).s??(r.s=[])).push(n),n}function ke(t,e){return w!==null&&Et()&&w.f&(k|St)&&(P===null||!P.includes(t))&&Re(),Ae(t,e)}function Ae(t,e){return t.equals(e)||(t.v=e,t.version=Gt(),At(t,F),Et()&&_!==null&&_.f&y&&!(_.f&A)&&(p!==null&&p.includes(t)?(N(_,F),ft(_)):D===null?Ve([t]):D.push(t))),e}function At(t,e){var n=t.reactions;if(n!==null)for(var r=Et(),s=n.length,l=0;l<s;l++){var u=n[l],i=u.f;i&F||!r&&u===_||(N(u,e),i&(y|W)&&(i&k?At(u,J):ft(u)))}}function Ot(t){console.warn("https://svelte.dev/e/hydration_mismatch")}let H=!1;function lt(t){H=t}let C;function pt(t){if(t===null)throw Ot(),tt;return C=t}function Dt(){return pt(wt(C))}var Ft,Lt,Pt;function mt(){if(Ft===void 0){Ft=window;var t=Element.prototype,e=Node.prototype;Lt=vt(e,"firstChild").get,Pt=vt(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Oe(t=""){return document.createTextNode(t)}function qt(t){return Lt.call(t)}function wt(t){return Pt.call(t)}function De(t){t.textContent=""}function It(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&k?gt(r):O(r)}}}function Fe(t){for(var e=t.parent;e!==null;){if(!(e.f&k))return e;e=e.parent}return null}function Mt(t){var e,n=_;U(Fe(t));try{It(t),e=zt(t)}finally{U(n)}return e}function Ht(t){var e=Mt(t),n=(q||t.f&W)&&t.deps!==null?J:y;N(t,n),t.equals(e)||(t.v=e,t.version=Gt())}function gt(t){It(t),X(t,0),N(t,M),t.v=t.children=t.deps=t.ctx=t.reactions=null}function Le(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function G(t,e,n,r=!0){var s=(t&K)!==0,l=_,u={ctx:m,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|F,first:null,fn:e,last:null,next:null,parent:s?null:l,prev:null,teardown:null,transitions:null,version:0};if(n){var i=Y;try{Wt(!0),yt(u),u.f|=pe}catch(h){throw O(u),h}finally{Wt(i)}}else e!==null&&ft(u);var o=n&&u.deps===null&&u.first===null&&u.nodes_start===null&&u.teardown===null&&(u.f&ge)===0;if(!o&&!s&&r&&(l!==null&&Le(u,l),w!==null&&w.f&k)){var c=w;(c.children??(c.children=[])).push(u)}return u}function Pe(t){const e=G(K,t,!0);return()=>{O(e)}}function qe(t){const e=G(K,t,!0);return(n={})=>new Promise(r=>{n.outro?je(e,()=>{O(e),r(void 0)}):(O(e),r(void 0))})}function Ie(t){return G(Rt,t,!1)}function Me(t){return G(dt,t,!0)}function He(t,e=!0){return G(dt|A,t,!0,e)}function Yt(t){var e=t.teardown;if(e!==null){const n=w;B(null);try{e.call(null)}finally{B(n)}}}function jt(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)gt(e[n])}}function Bt(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;O(n,e),n=r}}function Ye(t){for(var e=t.first;e!==null;){var n=e.next;e.f&A||O(e),e=n}}function O(t,e=!0){var n=!1;if((e||t.f&we)&&t.nodes_start!==null){for(var r=t.nodes_start,s=t.nodes_end;r!==null;){var l=r===s?null:wt(r);r.remove(),r=l}n=!0}Bt(t,e&&!n),jt(t),X(t,0),N(t,M);var u=t.transitions;if(u!==null)for(const o of u)o.stop();Yt(t);var i=t.parent;i!==null&&i.first!==null&&Ut(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Ut(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function je(t,e){var n=[];Vt(t,n,!0),Be(n,()=>{O(t),e()})}function Be(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var s of t)s.out(r)}else e()}function Vt(t,e,n){if(!(t.f&st)){if(t.f^=st,t.transitions!==null)for(const u of t.transitions)(u.is_global||n)&&e.push(u);for(var r=t.first;r!==null;){var s=r.next,l=(r.f&me)!==0||(r.f&A)!==0;Vt(r,e,l?n:!1),r=s}}}function dn(){}const Kt=0,Ue=1;let ut=!1,it=Kt,z=!1,Q=null,Y=!1;function Wt(t){Y=t}let L=[],j=0,$n=[],w=null;function B(t){w=t}let _=null;function U(t){_=t}let P=null,p=null,b=0,D=null;function Ve(t){D=t}let Jt=1,q=!1,m=null;function Gt(){return++Jt}function Et(){return!f||m!==null&&m.l===null}function ot(t){var u,i;var e=t.f;if(e&F)return!0;if(e&J){var n=t.deps,r=(e&W)!==0;if(n!==null){var s;if(e&rt){for(s=0;s<n.length;s++)((u=n[s]).reactions??(u.reactions=[])).push(t);t.f^=rt}for(s=0;s<n.length;s++){var l=n[s];if(ot(l)&&Ht(l),r&&_!==null&&!q&&!((i=l==null?void 0:l.reactions)!=null&&i.includes(t))&&(l.reactions??(l.reactions=[])).push(t),l.version>t.version)return!0}}(!r||_!==null&&!q)&&N(t,y)}return!1}function Ke(t,e){for(var n=e;n!==null;){if(n.f&$t)try{n.fn(t);return}catch{n.f^=$t}n=n.parent}throw ut=!1,t}function We(t){return(t.f&M)===0&&(t.parent===null||(t.parent.f&$t)===0)}function at(t,e,n,r){if(ut){if(n===null&&(ut=!1),We(e))throw t;return}n!==null&&(ut=!0);{Ke(t,e);return}}function zt(t){var d;var e=p,n=b,r=D,s=w,l=q,u=P,i=m,o=t.f;p=null,b=0,D=null,w=o&(A|K)?null:t,q=!Y&&(o&W)!==0,P=null,m=t.ctx;try{var c=(0,t.fn)(),h=t.deps;if(p!==null){var a;if(X(t,b),h!==null&&b>0)for(h.length=b+p.length,a=0;a<p.length;a++)h[b+a]=p[a];else t.deps=h=p;if(!q)for(a=b;a<h.length;a++)((d=h[a]).reactions??(d.reactions=[])).push(t)}else h!==null&&b<h.length&&(X(t,b),h.length=b);return c}finally{p=e,b=n,D=r,w=s,q=l,P=u,m=i}}function Je(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}n===null&&e.f&k&&(p===null||!p.includes(e))&&(N(e,J),e.f&(W|rt)||(e.f^=rt),X(e,0))}function X(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Je(t,n[r])}function yt(t){var e=t.f;if(!(e&M)){N(t,y);var n=_,r=m;_=t;try{e&St?Ye(t):Bt(t),jt(t),Yt(t);var s=zt(t);t.teardown=typeof s=="function"?s:null,t.version=Jt}catch(l){at(l,t,n,r||t.ctx)}finally{_=n}}}function Qt(){if(j>1e3){j=0;try{Te()}catch(t){if(Q!==null)at(t,Q,null);else throw t}}j++}function Xt(t){var e=t.length;if(e!==0){Qt();var n=Y;Y=!0;try{for(var r=0;r<e;r++){var s=t[r];s.f&y||(s.f^=y);var l=[];Zt(s,l),Ge(l)}}finally{Y=n}}}function Ge(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if(!(r.f&(M|st)))try{ot(r)&&(yt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Ut(r):r.fn=null))}catch(s){at(s,r,null,r.ctx)}}}function ze(){if(z=!1,j>1001)return;const t=L;L=[],Xt(t),z||(j=0,Q=null)}function ft(t){it===Kt&&(z||(z=!0,queueMicrotask(ze))),Q=t;for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(K|A)){if(!(n&y))return;e.f^=y}}L.push(e)}function Zt(t,e){var n=t.first,r=[];t:for(;n!==null;){var s=n.f,l=(s&A)!==0,u=l&&(s&y)!==0,i=n.next;if(!u&&!(s&st))if(s&dt){if(l)n.f^=y;else try{ot(n)&&yt(n)}catch(a){at(a,n,null,n.ctx)}var o=n.first;if(o!==null){n=o;continue}}else s&Rt&&r.push(n);if(i===null){let a=n.parent;for(;a!==null;){if(t===a)break t;var c=a.next;if(c!==null){n=c;continue t}a=a.parent}}n=i}for(var h=0;h<r.length;h++)o=r[h],e.push(o),Zt(o,e)}function te(t){var e=it,n=L;try{Qt();const s=[];it=Ue,L=s,z=!1,Xt(n);var r=t==null?void 0:t();return(L.length>0||s.length>0)&&te(),j=0,Q=null,r}finally{it=e,L=n}}function ee(t){var h;var e=t.f,n=(e&k)!==0;if(n&&e&M){var r=Mt(t);return gt(t),r}if(w!==null){P!==null&&P.includes(t)&&Ne();var s=w.deps;p===null&&s!==null&&s[b]===t?b++:p===null?p=[t]:p.push(t),D!==null&&_!==null&&_.f&y&&!(_.f&A)&&D.includes(t)&&(N(_,F),ft(_))}else if(n&&t.deps===null)for(var l=t,u=l.parent,i=l;u!==null;)if(u.f&k){var o=u;i=o,u=o.parent}else{var c=u;(h=c.deriveds)!=null&&h.includes(i)||(c.deriveds??(c.deriveds=[])).push(i);break}return n&&(l=t,ot(l)&&Ht(l)),t.v}const Qe=~(F|J|y);function N(t,e){t.f=t.f&Qe|e}function Xe(t,e=!1,n){m={p:m,c:null,e:null,m:!1,s:t,x:null,l:null},f&&!e&&(m.l={s:null,u:null,r1:[],r2:kt(!1)})}function Ze(t){const e=m;if(e!==null){const u=e.e;if(u!==null){var n=_,r=w;e.e=null;try{for(var s=0;s<u.length;s++){var l=u[s];U(l.effect),B(l.reaction),Ie(l.fn)}}finally{U(n),B(r)}}m=e.p,e.m=!0}return{}}const tn=new Set,ne=new Set;function ct(t){var oe;var e=this,n=e.ownerDocument,r=t.type,s=((oe=t.composedPath)==null?void 0:oe.call(t))||[],l=s[0]||t.target,u=0,i=t.__root;if(i){var o=s.indexOf(i);if(o!==-1&&(e===document||e===window)){t.__root=e;return}var c=s.indexOf(e);if(c===-1)return;o<=c&&(u=o)}if(l=s[u]||t.target,l!==e){nt(t,"currentTarget",{configurable:!0,get(){return l||n}});var h=w,a=_;B(null),U(null);try{for(var d,g=[];l!==null;){var S=l.assignedSlot||l.parentNode||l.host||null;try{var I=l["__"+r];if(I!==void 0&&!l.disabled)if(de(I)){var[cn,..._n]=I;cn.apply(l,[t,..._n])}else I.call(l,t)}catch(ht){d?g.push(ht):d=ht}if(t.cancelBubble||S===e||S===null)break;l=S}if(d){for(let ht of g)queueMicrotask(()=>{throw ht});throw d}}finally{t.__root=e,delete t.currentTarget,B(h),U(a)}}}function en(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function bt(t,e){var n=_;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function nn(t,e){var n=(e&Z)!==0,r,s=!t.startsWith("<!>");return()=>{if(H)return bt(C,null),C;r===void 0&&(r=en(s?t:"<!>"+t),r=qt(r));var l=n?document.importNode(r,!0):r.cloneNode(!0);return bt(l,l),l}}function re(t,e){if(H){_.nodes_end=C,Dt();return}t!==null&&t.before(e)}function se(t,e){return le(t,e)}function rn(t,e){mt(),e.intro=e.intro??!1;const n=e.target,r=H,s=C;try{for(var l=qt(n);l&&(l.nodeType!==8||l.data!==ce);)l=wt(l);if(!l)throw tt;lt(!0),pt(l),Dt();const u=le(t,{...e,anchor:l});if(C===null||C.nodeType!==8||C.data!==_e)throw Ot(),tt;return lt(!1),u}catch(u){if(u===tt)return e.recover===!1&&Ce(),mt(),De(n),lt(!1),se(t,e);throw u}finally{lt(r),pt(s)}}const V=new Map;function le(t,{target:e,anchor:n,props:r={},events:s,context:l,intro:u=!0}){mt();var i=new Set,o=a=>{for(var d=0;d<a.length;d++){var g=a[d];if(!i.has(g)){i.add(g);var S=ve(g);e.addEventListener(g,ct,{passive:S});var I=V.get(g);I===void 0?(document.addEventListener(g,ct,{passive:S}),V.set(g,1)):V.set(g,I+1)}}};o($e(tn)),ne.add(o);var c=void 0,h=qe(()=>{var a=n??e.appendChild(Oe());return He(()=>{if(l){Xe({});var d=m;d.c=l}s&&(r.$$events=s),H&&bt(a,null),c=t(a,r)||{},H&&(_.nodes_end=C),l&&Ze()}),()=>{var S;for(var d of i){e.removeEventListener(d,ct);var g=V.get(d);--g===0?(document.removeEventListener(d,ct),V.delete(d)):V.set(d,g)}ne.delete(o),a!==n&&((S=a.parentNode)==null||S.removeChild(a))}});return xt.set(c,h),c}let xt=new WeakMap;function sn(t,e){const n=xt.get(t);return n?(xt.delete(t),n(e)):Promise.resolve()}function ln(t){return new un(t)}class un{constructor(e){Tt(this,R);Tt(this,x);var l;var n=new Map,r=(u,i)=>{var o=Se(i);return n.set(u,o),o};const s=new Proxy({...e.props||{},$$events:{}},{get(u,i){return ee(n.get(i)??r(i,Reflect.get(u,i)))},has(u,i){return i===Ee?!0:(ee(n.get(i)??r(i,Reflect.get(u,i))),Reflect.has(u,i))},set(u,i,o){return ke(n.get(i)??r(i,o),o),Reflect.set(u,i,o)}});Ct(this,x,(e.hydrate?rn:se)(e.component,{target:e.target,anchor:e.anchor,props:s,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((l=e==null?void 0:e.props)!=null&&l.$$host)||e.sync===!1)&&te(),Ct(this,R,s.$$events);for(const u of Object.keys(E(this,x)))u==="$set"||u==="$destroy"||u==="$on"||nt(this,u,{get(){return E(this,x)[u]},set(i){E(this,x)[u]=i},enumerable:!0});E(this,x).$set=u=>{Object.assign(s,u)},E(this,x).$destroy=()=>{sn(E(this,x))}}$set(e){E(this,x).$set(e)}$on(e,n){E(this,R)[e]=E(this,R)[e]||[];const r=(...s)=>n.call(this,...s);return E(this,R)[e].push(r),()=>{E(this,R)[e]=E(this,R)[e].filter(s=>s!==r)}}$destroy(){E(this,x).$destroy()}}R=new WeakMap,x=new WeakMap;let ue;typeof HTMLElement=="function"&&(ue=class extends HTMLElement{constructor(e,n,r){super();T(this,"$$ctor");T(this,"$$s");T(this,"$$c");T(this,"$$cn",!1);T(this,"$$d",{});T(this,"$$r",!1);T(this,"$$p_d",{});T(this,"$$l",{});T(this,"$$l_u",new Map);T(this,"$$me");this.$$ctor=e,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(e,n,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const s=this.$$c.$on(e,n);this.$$l_u.set(n,s)}super.addEventListener(e,n,r)}removeEventListener(e,n,r){if(super.removeEventListener(e,n,r),this.$$c){const s=this.$$l_u.get(n);s&&(s(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(s){return l=>{const u=document.createElement("slot");s!=="default"&&(u.name=s),re(l,u)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},r=on(this);for(const s of this.$$s)s in r&&(s==="default"&&!this.$$d.children?(this.$$d.children=e(s),n.default=!0):n[s]=e(s));for(const s of this.attributes){const l=this.$$g_p(s.name);l in this.$$d||(this.$$d[l]=_t(l,s.value,this.$$p_d,"toProp"))}for(const s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=ln({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}}),this.$$me=Pe(()=>{Me(()=>{var s;this.$$r=!0;for(const l of et(this.$$c)){if(!((s=this.$$p_d[l])!=null&&s.reflect))continue;this.$$d[l]=this.$$c[l];const u=_t(l,this.$$d[l],this.$$p_d,"toAttribute");u==null?this.removeAttribute(this.$$p_d[l].attribute||l):this.setAttribute(this.$$p_d[l].attribute||l,u)}this.$$r=!1})});for(const s in this.$$l)for(const l of this.$$l[s]){const u=this.$$c.$on(s,l);this.$$l_u.set(l,u)}this.$$l={}}}attributeChangedCallback(e,n,r){var s;this.$$r||(e=this.$$g_p(e),this.$$d[e]=_t(e,r,this.$$p_d,"toProp"),(s=this.$$c)==null||s.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return et(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function _t(t,e,n,r){var l;const s=(l=n[t])==null?void 0:l.type;if(e=s==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!n[t])return e;if(r==="toAttribute")switch(s){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(s){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function on(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}function an(t,e,n,r,s,l){let u=class extends ue{constructor(){super(t,n,s),this.$$p_d=e}static get observedAttributes(){return et(e).map(i=>(e[i].attribute||i).toLowerCase())}};return et(e).forEach(i=>{nt(u.prototype,i,{get(){return this.$$c&&i in this.$$c?this.$$c[i]:this.$$d[i]},set(o){var a;o=_t(i,o,e),this.$$d[i]=o;var c=this.$$c;if(c){var h=(a=vt(c,i))==null?void 0:a.get;h?c[i]=o:c.$set({[i]:o})}}})}),r.forEach(i=>{nt(u.prototype,i,{get(){var o;return(o=this.$$c)==null?void 0:o[i]}})}),t.element=u,u}var fn=nn("<h2>This is a test plugin</h2>");function ie(t){var e=fn();re(t,e)}return customElements.define("sefaria-plugin",an(ie,{},[],[],!0)),ie}();
